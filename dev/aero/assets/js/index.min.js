AOS.init();

// horizontal scroll section

gsap.registerPlugin(ScrollTrigger);

let horizontalSection = document.querySelector(".aw-whyus-content-row");

gsap.to(".aw-whyus-content-row", {
  x: () => -(horizontalSection.scrollWidth - window.innerWidth + 16),
  scrollTrigger: {
    trigger: ".aw-whyus-content-row",
    start: "center center",
    end: () => "+=" + (horizontalSection.scrollWidth - window.innerWidth + 16),
    pin: ".aw-horizontal-scroll-wrap",
    scrub: true,
    invalidateOnRefresh: true,
  },
});





// speciality section
const specialityItems = document.querySelectorAll(".aw-speciality-li");
const specialityCircles = document.querySelector(".aq-speciality-circle");
const specialityParas = document.querySelectorAll(".aw-speciality-para");

specialityItems.forEach((item) => {
  item.addEventListener("mouseover", function () {
    specialityItems.forEach((li) => li.classList.remove("active"));

    item.classList.add("active");

    const dataType = item.getAttribute("id");

    specialityCircles.setAttribute("data-type", dataType);

    specialityParas.forEach((para) => para.classList.remove("active"));

    const correspondingPara = document.querySelector(
      '.aw-speciality-para[data-type="' + dataType + '"]'
    );
    correspondingPara.classList.add("active");
  });
});

// meet section animation
window.addEventListener("scroll", function () {
  var meetNewSection = document.getElementById("awMeetNewSection");
  var sectionOffset = meetNewSection.offsetTop;

  var scrollTop = window.pageYOffset || document.documentElement.scrollTop;

  if (scrollTop >= sectionOffset - 200) {
    meetNewSection.classList.add("active");
  } else {
    meetNewSection.classList.remove("active");
  }
});

// hamburger color on scroll
window.addEventListener("scroll", function () {
  var companySection = document.getElementById("awCompanySection");
  var hamburgerIcon = document.querySelector(".aw-hamburger");
  var sectionTop = companySection.getBoundingClientRect().top;
  if (sectionTop <= 0) {
    hamburgerIcon.setAttribute("data-color", "black");
  } else {
    hamburgerIcon.setAttribute("data-color", "white");
  }
});

// menu js
document.addEventListener("DOMContentLoaded", function () {
  var hamburger = document.querySelector(".aw-hamburger");
  var navigation = document.querySelector(".aw-main-navigation");
  var body = document.body;
  var companySection = document.getElementById("awCompanySection");

  hamburger.addEventListener("click", function () {
    hamburger.classList.toggle("active");
    navigation.classList.toggle("active");

    if (navigation.classList.contains("active")) {
      hamburger.setAttribute("data-color", "black");
      body.style.overflow = "hidden";
    } else {
      var sectionTop = companySection.getBoundingClientRect().top;
      if (sectionTop <= 0) {
        hamburger.setAttribute("data-color", "black");
      } else {
        hamburger.setAttribute("data-color", "white");
      }
      body.style.overflow = "";
    }

    setTimeout(function () {
      navigation.classList.toggle("show");
    }, 100);
  });

  window.addEventListener("scroll", function () {
    var sectionTop = companySection.getBoundingClientRect().top;
    if (!navigation.classList.contains("active")) {
      if (sectionTop <= 0) {
        hamburger.setAttribute("data-color", "black");
      } else {
        hamburger.setAttribute("data-color", "white");
      }
    }
  });
});
