<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Frontend Developer Assignment - 2</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="./assets/css/fonts.min.css">
    <link rel="stylesheet" href="./assets/css/icons.min.css">
    <link rel="stylesheet" href="./assets/css/swiper-bundle.min.css">
    <link rel="stylesheet" href="./assets/css/style.min.css">
</head>
<body>
    <section class="at-top-alert" aria-label="get started message">
        <div class="at-container">
            <p class="at-top-alert-content">Start a marketplace for free!</p>
        </div>
    </section>
    <header class="at-header" data-nav="inactive" aria-label="header section">
        <div class="at-container at-header-inner">
            <div class="at-head-logo"></div>
            <nav class="at-main-nav" aria-label="main navigation">
                <ul class="at-nav-list">
                    <li class="at-nav-item"><a href="#" class="at-nav-link">Marketplaces</a></li>
                    <li class="at-nav-item"><a href="#" class="at-nav-link">Brands</a></li>
                    <li class="at-nav-item"><a href="#" class="at-nav-link">Creators</a></li>
                    <div class="at-nav-btn-wrap">
                        <li class="at-nav-item"><a href="#" role="button" class="at-btn at-link-btn"><span>log in</span></a></li>
                        <li class="at-nav-item"><a href="#" role="button" class="at-btn at-nav-btn"><span>get started</span></a></li>
                    </div>
                </ul>
            </nav>
            <button class="at-nav-burger"></button>
        </div>
    </header>
    <main class="at-main" aria-label="main content wrap">
        <section class="at-hero-section" aria-label="first section of home page">
            <div class="at-container">
                <h1 class="at-hero-title">
                    Creators and brands
                    <div class="at-font-archivo">selling more</div>
                    together
                </h1>
                <div class="at-hero-btns-wrap">
                    <a href="" role="button" class="at-btn at-primary-btn"><span>join as creator</span></a>
                    <a href="" role="button" class="at-btn at-secondary-btn"><span>join as brand</span></a>
                </div>

                <div class="at-slider-wrap swiper at-main-slider">
                    <div class="at-slider swiper-wrapper">
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/" playsinline loop autoplay muted>
                                <source src="./assets/media/video-0.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-1.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-1.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-2.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-2.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-3.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-3.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-4.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-4.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-5.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-5.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-6.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-6.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                        <div class="at-slide-item swiper-slide">
                            <video class="at-slide-video" poster="./assets/media/video-poster-7.png" playsinline loop autoplay muted>
                                <source src="./assets/media/video-7.mp4" type="video/mp4">
                            </video>
                            <button class="at-volume-btn"><i class="ati-mute"></i></button>
                            <button class="at-playpause-btn"><i class="ati-pause"></i></button>
                        </div>
                    </div>
                </div>
                <div class="at-slider-controls">
                    <button class="at-slide-prev-btn"><i class="ati-arrow-left"></i></button>
                    <div class="at-slide-counter"></div>
                    <button class="at-slide-next-btn"><i class="ati-arrow-right"></i></button>
                </div>
            </div>
        </section>
    </main>



    <script src="./assets/js/swiper-bundle.min.js"></script>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
        var burger = document.querySelector('.at-nav-burger');
        var header = document.querySelector('.at-header');
        var body = document.body;

        burger.addEventListener('click', function() {
            burger.classList.toggle('active'); 
            body.classList.toggle('overflow-hidden'); 

            var navValue = header.getAttribute('data-nav');
            if (navValue === 'active') {
                header.setAttribute('data-nav', 'inactive');
            } else {
                header.setAttribute('data-nav', 'active');
            }
        });
        });
    </script>

    <script>
        let isMuted = true;
            var swiper = new Swiper(".at-main-slider", {
                slidesPerView: 7,
                spaceBetween: 24,
                centeredSlides: true,
                loop: true,
                slidesPerGroup: 1,
                loopedSlides: 7,
                pagination: {
                    el: ".at-slide-counter",
                    type: "fraction",
                    formatFractionCurrent: function (number) {
                        return ('0' + number).slice(-2);
                    },
                    formatFractionTotal: function (number) {
                        return ('0' + number).slice(-2);
                    },
                },
                navigation: {
                    nextEl: ".at-slide-next-btn",
                    prevEl: ".at-slide-prev-btn",
                },
                breakpoints: {
                    0: {
                        slidesPerView: 1,
                        spaceBetween: 12,
                    },
                    448: {
                        slidesPerView: 3,
                    },
                    900: {
                        slidesPerView: 5,
                        spaceBetween: 16,
                    },
                    1200: {
                        slidesPerView: 7,
                        spaceBetween: 24,
                    },
                },
                on: {
                    slideChange: function () {
                        var activeSlide = this.slides[this.activeIndex];

                        var prevSecondChild = activeSlide.previousElementSibling;
                        if (prevSecondChild) {
                            prevSecondChild = prevSecondChild.previousElementSibling;
                        }

                        var prevSecondMarked = document.querySelector('.swiper-slide-prev-second');
                        if (prevSecondMarked) {
                            prevSecondMarked.classList.remove('swiper-slide-prev-second');
                        }

                        if (prevSecondChild) {
                            prevSecondChild.classList.add('swiper-slide-prev-second');
                        }
                        // -- end slider function


                        var activeVideo = activeSlide.querySelector('.at-slide-video');

                        var allVideos = document.querySelectorAll('.at-slide-video');
                        allVideos.forEach(function (video) {
                            video.play();
                            let slide = video.closest('.at-slide-item');
                            let playPauseBtn = slide.querySelector('.at-playpause-btn');
                            playPauseBtn.innerHTML = '<i class="ati-pause"></i>';
                        });

                        var allVolumeButtons = document.querySelectorAll('.at-volume-btn');
                        allVolumeButtons.forEach(function (button) {
                            let slide = button.closest('.at-slide-item');
                            let video = slide.querySelector('.at-slide-video');
                            video.muted = true;
                            button.innerHTML = '<i class="ati-mute"></i>';
                        });

                        var volumeButton = activeSlide.querySelector('.at-volume-btn');
                        volumeButton.innerHTML = isMuted ? '<i class="ati-mute"></i>' : '<i class="ati-unmute"></i>';
                        activeVideo.muted = isMuted;
                        activeVideo.currentTime = 0;

                    }
                }
            });

            function toggleMute(video, volumeButton) {
                if (video.muted) {
                    video.muted = false;
                    isMuted = false;
                    volumeButton.innerHTML = '<i class="ati-unmute"></i>';
                } else {
                    video.muted = true;
                    isMuted = true;
                    volumeButton.innerHTML = '<i class="ati-mute"></i>';
                }
            }

            var volumeButtons = document.querySelectorAll('.at-volume-btn');
            volumeButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    var slide = this.closest('.at-slide-item');
                    var video = slide.querySelector('.at-slide-video');
                    toggleMute(video, this);
                });
            });

            var playPauseButtons = document.querySelectorAll('.at-playpause-btn');
            playPauseButtons.forEach(function (button) {
                button.addEventListener('click', function () {
                    var slide = this.closest('.at-slide-item');
                    var video = slide.querySelector('.at-slide-video');
                    if (video.paused) {
                        video.play().catch(function (error) {
                            // Handle error if any
                            console.error('Error playing video:', error);
                        });
                        this.innerHTML = '<i class="ati-pause"></i>';
                    } else {
                        video.pause();
                        this.innerHTML = '<i class="ati-play"></i>';
                    }
                });
            });
        </script>

</body>
</html>